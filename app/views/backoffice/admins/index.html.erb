<h1 class="page-header">Administradores</h1>

<div class="row">
  <div class="col-lg-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        &nbsp;


        <%= link_to new_backoffice_admin_path, class: "#{ 'disabled' unless policy(@admins).new?} btn btn-success btn-circle btn-sm pull-right", style: "margin-top: -5px;" do %>
        <i class="fa fa-plus"></i>

        <% end %>

      </div>
      <div class="panel-body">
        <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
          <thead>
            <tr>
              <th>#</th>
              <th>Nome</th>
              <th>Email</th>
              <th>Acesso</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <% @admins.each do |c| %>
            <tr class="<%= cycle('gradeA odd', 'gradeA even') %>">
              <td class="center"><%= c.id %></td>
              <td class="center"><%= c.name %></td>
              <td class="center"><%= c.email %></td>
              <td class="center"><%= c.role_i18n %></td>
              <td style="width: 125px;">

                <%= link_to edit_backoffice_admin_path(c.id), class: "btn btn-primary btn-circle" do %>
                <i class="glyphicon glyphicon-edit"></i>
                <% end %>

                <% if current_admin.id == c.id %>
                <%= link_to backoffice_admin_path(c.id), method: :delete, disabled: "disabled", class: "btn btn-danger btn-circle", data: {confirm: "Você tem certeza que deseja excluir o administrador #{c.email} ?"} do %>
                <i class="fa fa-minus"></i>
                <% end else %>
                <%= link_to backoffice_admin_path(c.id), method: :delete, class: "btn btn-danger btn-circle confirm" do %>
                <i class="fa fa-minus"></i>
                <% end end %>


              </td>
            </tr>
            <% end %>
          </tbody>
        </table>
        <!-- /.table-responsive -->

      </div>
      <!-- /.panel-body -->
    </div>
    <!-- /.panel -->
  </div>
  <!-- /.col-lg-12 -->
</div>


<script>
$(document).ready(function() {
  $('#dataTables-example').DataTable({
    responsive: true,
    "language": {
      "sEmptyTable": "Nenhum registro encontrado",
      "sInfo": "Mostrando de _START_ até _END_ de _TOTAL_ registros",
      "sInfoEmpty": "Mostrando 0 até 0 de 0 registros",
      "sInfoFiltered": "(Filtrados de _MAX_ registros)",
      "sInfoPostFix": "",
      "sInfoThousands": ".",
      "sLengthMenu": "Mostrar _MENU_ resultados por página",
      "sLoadingRecords": "Carregando...",
      "sProcessing": "Processando...",
      "sZeroRecords": "Nenhum registro encontrado",
      "sSearch": "Pesquisar",
      "oPaginate": {
        "sNext": "Próximo",
        "sPrevious": "Anterior",
        "sFirst": "Primeiro",
        "sLast": "Último"
      },
      "oAria": {
        "sSortAscending": ": Ordenar colunas de forma ascendente",
        "sSortDescending": ": Ordenar colunas de forma descendente"
      }
    }
  });

});
</script>
